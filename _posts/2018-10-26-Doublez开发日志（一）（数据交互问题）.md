---
layout:       post
title:        "Doublez开发日志(一)"
subtitle:     "数据交互问题"
date:         2018-10-26
author:       "Tuoc"
header-img:   "img/in-post/doublez.png"
header-mask:  0.3
catalog:      true
tags:
    - Android
    - I/O
---


Doublez作为一个配音软件，一个法语学习社区，为了在北邮法语课堂上能够被师生使用，那么对于数据交互的需求肯定不少，数据交互也一直是Android开发的核心之一。

那我在开发前，我就要把这个App用到的有关数据的需求罗列一下。

- 登录注册时，账号密码等相关信息与服务器数据库的交互
- 上传头像时，头像图片文件要与服务器交互，流文件形式上传
- 加载头像（包括加载其他用户的头像时），通过图片地址向服务器请求，可使用glide库
- 录音完成时，录音文件保存在本地，有可能是暂存，用户试听效果不满意后删除，确认保存后写入本地文件
- 录音上传时，以流文件上传至服务端
-  查看他人作品时，在线播放/缓存他人作品

同一个资源（一部法语电影片段）同时存在着大量不同用户的配音（同款），那么我们可以判断你的本地文件或者缓存里面，到底有没有这个源，如果有的话那么我们不用再缓存这段视频，只下载音频无疑将会节省大量的空间和时间。

那么要达到上述的设想，要深入的了解缓存技术，和音视频分离技术，才能证实上述方案的可行性。

那么与服务器端的交互，需要网络和I/O知识的结合。与本地数据的交互，需要参考Android持久化技术，例如Sqlite，文件存储，SharedPreference等方式。

关于缓存，暂时还不清楚要怎么做
